# Resource Profile for 32GB Mac Mini
# Generous resource allocation for high-performance configuration

kafka:
  resources:
    limits:
      cpu: 3000m
      memory: 6Gi
    requests:
      cpu: 2000m
      memory: 4Gi
  heapOpts: "-Xmx4g -Xms4g"
  zookeeper:
    resources:
      limits:
        cpu: 1000m
        memory: 1Gi
      requests:
        cpu: 500m
        memory: 512Mi

postgresql:
  primary:
    resources:
      limits:
        cpu: 2000m
        memory: 4Gi
      requests:
        cpu: 1000m
        memory: 2Gi
    extendedConfiguration: |
      max_connections = 300
      shared_buffers = 1GB
      effective_cache_size = 3GB
      maintenance_work_mem = 256MB
      work_mem = 8MB
      max_parallel_workers_per_gather = 4
      max_parallel_workers = 8
    pgBouncer:
      maxClientConnections: 500
      defaultPoolSize: 20

loki:
  loki:
    resources:
      limits:
        cpu: 1000m
        memory: 1Gi
      requests:
        cpu: 500m
        memory: 512Mi
  promtail:
    resources:
      limits:
        cpu: 300m
        memory: 256Mi
      requests:
        cpu: 150m
        memory: 128Mi
  grafana:
    resources:
      limits:
        cpu: 1000m
        memory: 1Gi
      requests:
        cpu: 500m
        memory: 512Mi

backend:
  resources:
    limits:
      cpu: 2000m
      memory: 2Gi
    requests:
      cpu: 1000m
      memory: 1Gi
  replicas: 3
  hpa:
    maxReplicas: 10

frontend:
  resources:
    limits:
      cpu: 2000m
      memory: 2Gi
    requests:
      cpu: 1000m
      memory: 1Gi
  replicas: 3
  hpa:
    maxReplicas: 8
