# GitHub Webhook Secret for ArgoCD
# This secret is used to verify webhook payloads from GitHub
#
# IMPORTANT: Replace WEBHOOK_SECRET_VALUE with a secure random string
# Generate one with: openssl rand -hex 32
#
# After deployment:
# 1. Go to GitHub repo → Settings → Webhooks → Add webhook
# 2. Payload URL: https://argocd.son.duckdns.org:8443/api/webhook
# 3. Content type: application/json
# 4. Secret: <same value as below>
# 5. Events: Just the push event (or select individual events)

apiVersion: v1
kind: Secret
metadata:
  name: argocd-webhook-secret
  namespace: argocd
  labels:
    app.kubernetes.io/name: argocd-webhook-secret
    app.kubernetes.io/part-of: argocd
type: Opaque
stringData:
  # Generate with: openssl rand -hex 32
  webhook.github.secret: "${GITHUB_WEBHOOK_SECRET}"
